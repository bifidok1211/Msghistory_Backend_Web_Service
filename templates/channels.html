<!DOCTYPE html>
<html lang="ru">
<head>
  <title>Список каналов</title>
  <link rel="stylesheet" href="/resources/styles/main.css">
  <link rel="stylesheet" href="/resources/styles/tg.css">
  <link rel="stylesheet" href="/resources/styles/cards.css">
</head>
<body>

  <header class="tg-header">
    <div class="logo">
      <span class="logo-title">Telegram</span>
      <span class="logo-subtitle">Новая эра в общении</span>
    </div>
  </header>

  <div class="page-title">Каналы</div>

  <div class="search-row">
    <form action="/TG" method="GET" class="search-form">
      <input class="search-input" type="text" name="searchingChannels" placeholder="Введите текст" value="{{ .channelsSearch }}">
    </form>

    {{ if gt .channelsCount 0 }}
    <a class="badge-icon" href="/tg/{{ .tgID }}" aria-label="Составление заявки">
      <span>{{.channelsCount}}</span>
    </a>
  {{ else }}
    <a class="badge-icon" style="cursor: not-allowed;" aria-label="Составление заявки">
      <span></span>
    </a>
  {{ end }}
  
  </div>

  <div class="container channels-grid">
    {{range .channels}}
    <div class="card card--vertical">
      {{with .Image}}<img class="card-img" src="{{.}}" alt="">{{end}}
      <div class="card-content">
        <p class="card-title">{{.Title}}</p>
        <a class="card-button tg-btn" href="/channel/{{ .ID }}">Перейти</a>
        <form action="/tg/add/channel/{{ .ID }}" method="POST">
            <button class="card-button" type="submit">Добавить</button>
        </form>
      </div>
    </div>
    {{end}}
  </div>

</body>
</html>